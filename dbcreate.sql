DROP TABLE CANVAS_HIERARCHY;
CREATE TABLE CANVAS_HIERARCHY (ID VARCHAR2(30) NOT NULL, PARENT VARCHAR2(30), HIERARCHY VARCHAR2(30), PUBLISHED NUMBER(1) DEFAULT 0  NOT NULL, PRIMARY KEY (ID));
DROP TABLE LTI_TOOLS;
CREATE TABLE LTI_TOOLS (TOOL_ID NUMBER(22) DEFAULT "CANVAS"."ISEQ$$_20685".nextval NOT NULL, TOOL_NAME VARCHAR2(64) NOT NULL, TOOL_DESCRIPTION VARCHAR2(400), OAUTH_CONSUMER_KEY VARCHAR2(50));
DROP TABLE LTI_TOOL_ACCESS;
CREATE TABLE LTI_TOOL_ACCESS (TOOL_ID NUMBER(22), SITE_ID VARCHAR2(50), SESSION_ID VARCHAR2(36), VISITED_ON DATE);
DROP TABLE NONCE;
CREATE TABLE NONCE (ID INTEGER DEFAULT "CANVAS"."ISEQ$$_20672".nextval NOT NULL, NONCE VARCHAR2(50) NOT NULL, TIMESTAMP NUMBER(12), PRIMARY KEY (ID));
DROP TABLE PHOTOAUTH;
CREATE TABLE PHOTOAUTH (SESSION_ID VARCHAR2(36) NOT NULL, TOOL_ID NUMBER(22) NOT NULL, USER_ID VARCHAR2(99) NOT NULL, ROLE VARCHAR2(99), TIME DATE, AVATAR_URL VARCHAR2(2090), PATH VARCHAR2(4000));
DROP TABLE SESSIONID;
CREATE TABLE SESSIONID (ID VARCHAR2(36) NOT NULL, UNIXTIME DATE NOT NULL, PRIMARY KEY (ID));
DROP TABLE SESSIONS;
CREATE TABLE SESSIONS (SESSION_ID VARCHAR2(36) NOT NULL, SESSION_SERVER VARCHAR2(64) NOT NULL, SESSION_USER VARCHAR2(99) NOT NULL, SESSION_IP VARCHAR2(128), SESSION_USER_AGENT VARCHAR2(255), SESSION_START DATE, SESSION_END DATE, SESSION_ACTIVE NUMBER(1), CONSTRAINT SESSION_PK PRIMARY KEY (SESSION_ID));
DROP TABLE TOKENS;
CREATE TABLE TOKENS (TOOL_ID NUMBER(22) NOT NULL, ACCESS_TOKEN VARCHAR2(100), REFRESH_TOKEN VARCHAR2(100), EXPIRES_IN NUMBER(10), EXPIRES_AT NUMBER, TOKEN_TYPE VARCHAR2(50), USER_NAME VARCHAR2(200), USER_ID VARCHAR2(100), ISSUED DATE);
